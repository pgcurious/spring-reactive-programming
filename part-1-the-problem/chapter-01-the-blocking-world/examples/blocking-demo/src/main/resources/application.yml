# Application Configuration for Blocking Demo
# Chapter 1: The Blocking World We Live In

server:
  port: 8080

  # IMPORTANT: Tomcat thread pool configuration
  # This is what limits our concurrent request handling
  tomcat:
    threads:
      # Maximum number of threads in the pool
      # In production, this is typically 200 (default)
      # We use 10 here to make thread exhaustion more visible
      max: 10

      # Minimum number of threads always kept alive
      min-spare: 2

    # Maximum number of connections
    max-connections: 100

    # Queue size when all threads are busy
    accept-count: 10

# Actuator configuration for monitoring
management:
  endpoints:
    web:
      exposure:
        include: health,metrics,prometheus,threaddump
  endpoint:
    health:
      show-details: always
  metrics:
    tags:
      application: blocking-demo

# Logging configuration
logging:
  level:
    com.example.blocking: DEBUG
  pattern:
    console: "%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n"

# Custom application properties
app:
  # Simulated external service delay (milliseconds)
  external-service-delay: 200

  # Simulated database delay (milliseconds)
  database-delay: 50
